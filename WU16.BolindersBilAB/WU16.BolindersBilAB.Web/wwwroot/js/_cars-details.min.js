(function(){function f(f,e){$("body").append(r);$("body").append(u);console.log($(n).addClass(e));$(n).append(f);$(t).on("click",i);return $(n)}function e(t){$(n).empty().append(t)}function i(){$(n).remove();$(t).remove()}const r="<div class='card-modal-overlay'><\/div>",u="<div class='card card-modal'><\/div>",n=".card-modal",t=".card-modal-overlay";window.CustomModal={open:f,close:i,changeContent:e}})();$(document).ready(function(){function n(){const i=parseFloat($("#cars-details-container input[type=hidden]").val()),u=parseFloat($("#cars-details-container input[type=number]").val()),n=parseInt($("#cars-details-container select").val()),t=Math.round(i/n*12*1.045/12),r=t*n;$("#cars-details-container .price-result > p.month").text(t+"Kr per mÃ¥nad");$("#cars-details-container .price-result > p.total").text("Total pris: "+r+"Kr")}if($(".no-images").length===0){const n="#cars-details-container .current-image img";$("#cars-details-container .image-preview img").on("click",function(r){$(n).off("click").replaceWith(r.target.cloneNode());i();t()});function i(){$(n).on("click",function(n){CustomModal.open(n.target.cloneNode(),"col-10")})}i();function t(){if(window.innerWidth<762)$("#cars-details-container .image-container").css("height","auto");else{const t=$(n).height();$("#cars-details-container .image-container").css("height",t+"px")}}$(window).on("resize",t);$(n).one("load",t);t()}$("#cars-details-container form").on("submit",function(t){t.preventDefault();n()});n();$("#cars-details-container .share-button").on("click",function(){const n='<i class="fa fa-spinner fa-spin"><\/i>';CustomModal.open('<form id="shareCarForm"><h4>Dela denna bil!<\/h4><div class="form-group"><input type="email" placeholder="Email" class="form-control" /><\/div><div class="form-group"><input type="submit" class="btn btn-primary btn-block" /><\/div><\/form>',"col-xl-4 col-lg-4 col-md-8 col-sm-10");$("#shareCarForm").on("submit",function(t){t.preventDefault();const i=JSON.stringify({Email:$("#shareCarForm input[type=email]").val(),LicenseNumber:window.location.href.split("/").pop()});CustomModal.changeContent(n);$.ajax({method:"POST",url:"/api/bil/dela",contentType:"application/json; charset=utf-8",data:i,success:CustomModal.close})})})});